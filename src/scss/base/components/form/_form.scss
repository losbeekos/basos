/*============================
=            Form            =
============================*/

form {
    @extend .clearfix;
    @include rem(margin, map-get($form, margin));

    &.form--no-margin {
        margin: 0;
    }
}

legend {
    display: block;
    width: 100%;
    padding: 0;
    border: 0;
    border-bottom: map-get($form, legend-border-bottom);

    @include rem(margin-bottom, map-get($form, legend-margin-bottom));
    @include rem(font-size, map-get($form, legend-font-size));
    @include rem(line-height, map-get($form, legend-line-height));
}

$input-selectors: '
    input[type="text"],
    input[type="password"],
    input[type="date"],
    input[type="datetime"],
    input[type="datetime-local"],
    input[type="month"],
    input[type="week"],
    input[type="email"],
    input[type="number"],
    input[type="search"],
    input[type="tel"],
    input[type="time"],
    input[type="url"],
    textarea
';

#{$input-selectors} {
    color: #333333;
    border-radius: map-get($base, border-radius);
    border: map-get($form, input-border);
    outline: 0;
    width: 100%;
    box-shadow: map-get($form, input-box-shadow);
    transition: all map-get($base, transition-speed);
    -webkit-appearance: none;
    -moz-appearance: none;

    @include rem(padding, map-get($form, input-padding));

    &:focus {
        border: map-get($form, input-border);
        box-shadow: map-get($form, input-focus-box-shadow);
    }

    &:disabled {
        background-color: map-get($form, input-disabled-bg-color);
        cursor: not-allowed;
    }
}

textarea {
    @include rem(height, map-get($form, textarea-height));
}

select {
    position: relative;
    background: transparent;
    background-image: none;
    display: block;
    width: 100%;
    outline: none;
    color: map-get($form, select-color);
    cursor: pointer;
    z-index: 2;
    border: none;
    transition: box-shadow map-get($base, transition-speed);
    -webkit-appearance: none;
    -moz-appearance: window;
    // This is so hacky.. (for Firefox)
    // Removes the default select arrow.
    text-overflow: '';
    text-indent: 1px;
    // End of brutal hack

    @include rem(padding, map-get($form, select-padding));

    &:focus,
    &:hover {
        box-shadow: map-get($form, select-hover-box-shadow);
    }

    &[multiple=multiple] {
        height: auto;
        border: map-get($form, input-border);
        border-radius: map-get($base, border-radius);
        box-shadow: map-get($form, select-multiple-box-shadow);

        &:focus,
        &:hover {
            box-shadow: map-get($form, select-hover-box-shadow);
        }
    }

    option[disabled] {
        color: map-get($color, placeholder);
        text-shadow: none;
        border: none;
    }
}

select:-moz-focusring {
    color: transparent;
    text-shadow: 0 0 0 #888888;
}

select::-ms-expand {
    display: none;
}